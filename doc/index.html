<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
  <title>Pubby &#8211; A Linked Data Frontend for SPARQL Endpoints</title>
<!--  <link rel="DOAP" type="application/rdf+xml" href="http://www4.wiwiss.fu-berlin.de/is-group/data/projects/Project3" />-->
<style type="text/css">
body { background: white; color: black; font-family: sans-serif; line-height: 1.4em; padding: 2.5em 3em; margin: 0; }
:link { color: #00c; }
:visited { color: #609; }
a:link img { border: none; }
a:visited img { border: none; }
h1, h2, h3, dt { background: white; color: #800; }
h1 { font: 170% sans-serif; margin: 0; }
h2 { clear: both; font: 140% sans-serif; margin: 1.5em 0 -0.5em 0; }
h3 { font: 120% sans-serif; margin: 1.5em 0 -0.5em 0; }
h4 { font: bold 100% sans-serif; }
h5 { font: italic 100% sans-serif; }
h6 { font: small-caps 100% sans-serif; }
.hide { display: none; }
pre { background: #fff6bb; font-family: monospace; line-height: 1.2em; padding: 1em 2em; }
dt { font-size: 120%; margin-top: 0; margin-bottom: 0; }
dd { margin: 0 0 1.6em; }
dd p { margin-top: 0; }
code, tt { font-family: monospace; }
ul.toc { list-style-type: none; }
ol.toc li a { text-decoration: none; }
.note { color: red; }
.acknowledgements a { color: #444; text-decoration: none; }
#header { border-bottom: 1px solid #ccc; }
#logo { float: right; }
#authors { clear: right; float: right; font-size: 80%; text-align: right; }
#content { clear: both; margin: 2em auto 0 0; text-align: justify }
#download, #demo { float: left; font-family: sans-serif; margin: 1em 0 1.5em; text-align: center; width: 50%; }
#download h2, #demo h2 { font-size: 125%; margin: 1.5em 0 -0.2em 0; }
#download small, #demo small { color: #888; font-size: 80%; }
#footer { border-top: 1px solid #ccc; color: #aaa; margin: 2em 0 0; }

@media Print {
* { font-size: 92%; }
body { padding: 0; line-height: 1.2em; }
#content { margin: 0; width: 100%; }
}
@media Aural {
h1 { stress: 20; richness: 90; }
h2 { stress: 20; richness: 90; }
h3 { stress: 20; richness: 90; }
.hide { speak: none; }
dt { pause-before: 20%; }
pre { speak-punctuation: code; }
}
</style>
</head>
<body>

<div id="header">
  <h1 style="font-size: 250%">Pubby</h1>
  <div id="tagline">A Linked Data Frontend for SPARQL Endpoints</div>
</div>

<div id="content">

<p><strong>Pubby</strong> can be used to add <strong>Linked Data
  interfaces</strong> to SPARQL endpoints.</p> 
<p>Much Semantic Web data lives inside triple stores and can be accessed only
  by sending <strong>SPARQL</strong> queries to a SPARQL endpoint. It is hard
  to connect information in these stores with other external data sources.</p>
<p><a href="http://linkeddata.org/">Linked Data</a>
  is a style of publishing data on the Semantic Web that makes it easy to
  interlink, discover and consume data on the Semantic Web. It allows
  a wide variety of existing RDF browsers (e.g.
  <a href="http://sites.wiwiss.fu-berlin.de/suhl/bizer/ng4j/disco/">Disco</a>,
  <a href="http://www.w3.org/2005/ajar/tab">Tabulator</a>,
  <a href="http://demo.openlinksw.com/DAV/JS/rdfbrowser/index.html">OpenLink Browser</a>),
  RDF crawlers (e.g. <a href="http://www.swse.org/">SWSE</a>,
  <a href="http://swoogle.umbc.edu/">Swoogle</a>), and query agents (e.g.
  <a href="http://sites.wiwiss.fu-berlin.de/suhl/bizer/ng4j/semwebclient/">SemWeb Client Library</a>,
  <a href="http://moustaki.org/swic/">SWIC</a>) to access the data.</p>
<p>Pubby makes it easy to turn a SPARQL endpoint into a Linked Data server.
  It is implemented as a Java web application.</p>

<h2 id="news">News</h2>

<ul>
  <li><strong>2011-01-26: Pubby 0.3.3 released.</strong> This version switches Pubby from using N3 syntax to the (almost identical) Turtle syntax. Configuration files now use the <code>.ttl</code> extension instead of <code>.n3</code>. The source code was also moved to <a href="http://github.com/cygri/pubby">a Github repository</a>.</li>
  <li><strong>2011-01-25: Pubby 0.3.2 released.</strong> This version fixes a bug in the metadata extension. This bug caused problems generating RDF/XML output.</li>
  <li><strong>2011-01-20: Alternative tool released. </strong>Epimorphics has released <a href="https://github.com/epimorphics/elda">Elda</a>, a Linked Data publishing tool which can be used as an alternative to Pubby. </li>
  <li><strong>2010-07-27: Pubby 0.3.1 released.</strong> The default metadata template in this version is updated to release v0.5 of the <a href="http://purl.org/net/provenance/">Provenance Vocabulary</a>.</li>
  <li><strong>2009-09-26: Pubby 0.3 released.</strong> This version adds a <a href="http://sourceforge.net/apps/mediawiki/trdf/index.php?title=Pubby_Metadata_Extension">metadata extension</a> that -by default- provides provenance information.</li>
  <li><strong>2007-10-22: Pubby 0.2 released.</strong> This version adds multi-dataset support, has improved content negotiation,
    adds the <tt>conf:datasetURIPattern</tt> option, plus various small improvements and bug fixes.</li>
  <li><strong>2007-06-20: Pubby 0.1 released.</strong> Today marks the release of the first alpha version of Pubby.</li>
</ul>

<h2 id="features">Features</h2>
<div style="float:right; margin:1em 0 1em 1em"><a href="images/dbpedia-berlin.jpg"><img src="images/dbpedia-berlin-thumb.jpg" alt="Screenshot of a Pubby web page displaying information from the DBpedia SPARQL endpoint" /></a></div>

<ul>
  <li>Provides a <strong>Linked Data interface</strong> to local or remote SPARQL protocol servers</li>
  <li>Provides <strong>dereferenceable URIs</strong> by rewriting URIs found in the SPARQL-exposed dataset into the Pubby server's namespace</li>
  <li>Provides a simple <strong>HTML interface</strong> showing the data available about each resource</li>
  <li>Takes care of handling <strong>303 redirects and content negotiation</strong></li>
  <li>Compatible with Tomcat and Jetty servlet containers</li>
  <li>Includes a <a href="http://sourceforge.net/apps/mediawiki/trdf/index.php?title=Pubby_Metadata_Extension">metadata extension</a> to add metadata to the provided data</li>
</ul>

<h2 id="how">How It Works</h2>

<p>Many triple stores and other SPARQL endpoints can be accessed only by SPARQL client applications
  that use the SPARQL protocol. It cannot be accessed by the growing variety of Linked Data clients.
  <strong>Pubby is designed to provide a Linked Data interface</strong> to those RDF data sources.</p>

<div style="text-align:center"><img src="images/pubby-architecture.png" alt="Pubby architecture diagram" /></div>

<p><strong>In RDF, resources are identified by URIs.</strong> The URIs used in most SPARQL dataset are
  <strong>not dereferenceable</strong>, meaning they cannot be accessed in a Semantic Web browser,
  but return <tt>404 Not Found</tt> errors instead, or use non-dereferenceable URI schemes, as in
  the fictional URI <tt>tag:data.example.org,2007:Berlin</tt>.</p>

<p>Pubby <strong>handles HTTP requests to URIs</strong> by connecting to the SPARQL endpoint,
  asking it for information about the URI, and passing back the results to the client rendered
  in an appropriate format.
  It also handles various <strong>details of the HTTP interaction</strong>, such as the
  303 redirect required by Web Architecture, and content negotiation between HTML, RDF/XML and Turtle 
  descriptions of the same resource.</p>

<p>Optionally, you may <strong>configure a mapping</strong> that translates URIs in the endpoint
  to dereferenceable URIs handled by Pubby. This is required if the URIs in the endpoint use a
  non-dereferenceable URI scheme or if you cannot run Pubby in the main namespace of the dataset.
  For example, if Pubby is running at <tt>http://myserver.org:8080/pubby/</tt>, then you may need
  to configure a mapping to translate URIs of the form <tt>tag:data.example.org,2007,<em>XXX</em></tt>
  to URIs of the form <tt>http://myserver.org:8080/pubby/<em>XXX</em></tt>.</p>

<h2 id="setup">Download and Installation</h2>

<ol>
<li><strong><a href="download">Download Pubby</a></strong>
  <small>Current version: v0.3.3 (alpha), released 2011-01-26</small></li>

<li>If you haven't already, download and install a <strong>servlet container</strong>. Pubby
  has been tested with <a href="http://tomcat.apache.org/">Tomcat</a> and <a href="http://www.mortbay.org/">Jetty</a>.
  I will assume your server is set up to run at <tt>http://myserver/</tt>.</li>

<li>Unzip the Pubby distribution and <strong>move the <tt>pubby</tt> directory</strong>
  into the servlet container's <tt>webapps</tt> folder. If Pubby is the only
  web application you want to run in the container, then rename the <tt>webapp</tt>
  directory to <tt>ROOT</tt>. This will make Pubby run at
  <tt>http://myserver/</tt>. Otherwise, you may rename it to something like
  <tt>mydataset</tt>.
  This will make Pubby run at <tt>http://myserver/mydataset/</tt>.</li>

<li><strong>Modify the configuration file</strong> to suit your needs. It is located
  within the <tt>pubby</tt> directory, at <tt>/WEB-INF/config.ttl</tt>. See the next section
  for a list of supported configuration directives.</li>
</ol>

<h2 id="config">Configuration</h2>

<p>The Pubby configuration file uses <strong><a href="http://www.w3.org/TeamSubmission/turtle/">Turtle</a></strong>
  syntax. It typically starts with some boilerplate <strong>prefix declarations</strong>, followed
  by a <strong>server configuration section</strong>, and one or more <strong>dataset configuration sections</strong>:</p>

<pre>&lt;&gt; a conf:Configuration;
    conf:<em>option1</em> <em>value1</em>;
    conf:<em>option2</em> <em>value2</em>;
    (...)
    conf:dataset [
        conf:<em>option1</em> <em>value1</em>;
        conf:<em>option2</em> <em>value2</em>;
    ];
    .
</pre>

<p>There is an <a href="config.ttl">example configuration file</a>.</p>

<p>Note that <strong>punctuation is significant</strong>,
  e.g. URIs are always enclosed in angle brackets, while literal
  values are enclosed in quotes. All directives are optional unless otherwise noted.</p>

<h3 id="conf:Configuration">Server Configuration Section</h3>

<p>Below is a list of all supported directives for the server configuration section.</p>

<dl>
<dt><tt>conf:projectName "<em>Project Name</em>";</tt></dt>
<dd><p>The name of the project, for display in page titles.</p></dd>

<dt><tt>conf:projectHomepage &lt;<em>project_homepage_url.html</em>&gt;;</tt></dt>
<dd><p>A project homepage or similar URL, for linking in page titles.</p></dd>

<dt><tt>conf:webBase &lt;<em>server_base_uri</em>&gt;;</tt></dt>
<dd><p><strong>Required.</strong> The root URL where the Pubby web application is installed, e.g.
  <tt>http://myserver/mydataset/</tt>. By default, Pubby will only handle URIs from the datasets
  that start with this prefix; see the <tt>conf:datasetBase</tt> directive below for how to change this.</p></dd>

<dt><tt>conf:labelProperty <em>ex:property1</em>, <em>ex:property2</em>, ...;</tt></dt>
<dd><p>The value of these RDF properties, if present in the dataset, will be used
  as labels and page titles for resources. Defaults to <tt>rdfs:label, dc:title, foaf:name</tt>.</p></dd>

<dt><tt>conf:commentProperty <em>ex:property1</em>, <em>ex:property2</em>, ...;</tt></dt>
<dd><p>The value of these RDF properties, if present in the dataset, will be used
  as a short textual description of the item. Defaults to <tt>rdfs:comment, dc:description</tt>.</p></dd>

<dt><tt>conf:imageProperty <em>ex:property1</em>, <em>ex:property2</em>, ...;</tt></dt>
<dd><p>The value of these RDF properties, if present in the dataset, will be used
  as an image URL to show a depiction of the item. Defaults to <tt>foaf:depiction</tt>.</p></dd>

<dt><tt>conf:usePrefixesFrom &lt;<em>file.rdf</em>&gt;;</tt></dt>
<dd><p>Links to an RDF document whose prefix declarations will be used in output.
  Defaults to the empty URL, which means the prefixes from the configuration file
  will be used.</p></dd>

<dt><tt>conf:defaultLanguage "<em>en</em>";</tt></dt>
<dd><p>If labels and comments in multiple languages are present (using different language tags
  on RDF literals), then this language will be preferred. Defaults to <tt>"en"</tt>.</p></dd>

<dt><tt>conf:indexResource &lt;<em>dataset_uri</em>&gt;;</tt></dt>
<dd><p>The URI of a resource whose description will be displayed as the home page of the Pubby installation.
  If not specified in the configuration, a list of all available resources is generated.</p></dd>

<dt><tt>conf:browsableNamespace &lt;<em>namespace_uri</em>&gt;</tt></dt>
<dd><p>Equivalent to declaring a <tt>conf:browsableNamespace</tt> property
  (see below) in all <tt>conf:dataset</tt> blocks.</p></dd>

<dt><tt>conf:showLabels <em>true</em>/<em>false</em></tt></dt>
<dd><p>When enabled, Pubby attempts to show <tt>rdfs:labels</tt> instead of
  URIs or prefixed names. Enabled by default.</p></dd>

<dt><tt>conf:loadVocabulary &lt;<em>vocabularyURL</em>&gt;</tt></dt>
<dd><p>On startup, Pubby will load vocabularies from the listed URLs, and use
  any labels and weights found in them (see <tt>conf:showLabels</tt> and
  <tt>conf:weight</tt>). Pubby will always use any such statements
  found in the mapping file itself. File
  URLs can be used. Relative URLs are interpreted as relative to the configuration
  file.</p></dd>
  <pre>
@prefix rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;.
&lt;&gt; a conf:Configuration;
    conf:loadVocabulary
        &lt;http://www.w3.org/2004/02/skos/core#&gt;,
        rdfs:,
        &lt;custom.ttl&gt;;
        .
ex:Widget rdfs:label "widget"@en.</pre>
  <p>The example defines a label for <tt>ex:Widget</tt>, and retrieves labels
  from the RDF Schema and SKOS namespace files off the Web, as well as from
  one local file located in the same directory as <tt>config.ttl</tt>.</p>
  <p>Declaring this property is equivalent to setting up a new dataset
  with these settings:</p>
  <pre>conf:dataset [
    a conf:AnnotationProvider;
    conf:loadRDF &lt;<em>vocabularyURL</em>&gt;;
];</pre></dd>

<dt><tt>conf:webResourcePrefix "<em>uri_prefix/</em>";</tt></dt>
<dd><p>If present, this string will be prefixed to resource URIs
  on the web server. For example, if set to “<tt>resource/</tt>”,
  then the resulting web URIs will be of the form
  <tt>http://myserver/resource/XXX</tt>. The default is the
  empty string. This is a legacy feature and its use
  is discouraged.</p></dd>

<dt><tt>conf:dataset [ ... ];</tt></dt>
<dd><p><strong>Required.</strong> Introduces a dataset configuration section.
  There can be one or more dataset sections.</p></dd>
</dl>


<h3 id="conf:Dataset">Dataset Configuration Section</h3>

<p>Below is a list of all supported directives for the server configuration section.</p>

<dl>
<dt><tt>conf:sparqlEndpoint &lt;<em>sparql_endpoint_url</em>&gt;;</tt></dt>
<dd><p><strong>Required</strong>, unless <tt>conf:loadRDF</tt> is used. in which case
  The URL of the SPARQL endpoint whose data we want to expose.</p></dd>

<dt><tt>conf:sparqlDefaultGraph &lt;<em>sparql_default_graph_name</em>&gt;;</tt></dt>
<dd><p>If the data of interest is not located in the SPARQL dataset's default graph, but within
  a named graph, then its name must be specified here.</p></dd>

<dt><tt>conf:supportsSPARQL11 <em>true</em>/<em>false</em>;</tt></dt>
<dd><p>Indicates whether the SPARQL endpoint supports SPARQL 1.1, If <tt>false</tt>,
  any features that require Pubby to issue SPARQL 1.1 queries will be disabled, and
  Pubby will only use SPARQL 1.0. Defaults to <tt>false</tt>.</p></dd>

<dt><tt>conf:loadRDF &lt;<em>data1.rdf</em>&gt;, &lt;<em>data2.ttl</em>&gt;, ...;</tt></dt>
<dd><p>Load one or more RDF documents from the Web or the file system and use them as the
  data source. The SPARQL endpoint configured above will be ignored, as will be any custom
  SPARQL queries. Allows using Pubby as an RDF server for publishing static RDF files,
  or enriching another dataset with additional triples loaded from a static file.</p></dd>

<dt><tt>conf:datasetBase &lt;<em>dataset_uri_prefix</em>&gt;;</tt></dt>
<dd><p>Only resources starting with this URI prefix will be hosted by Pubby, and
  will be mapped into the <tt>conf:webBase</tt> namespace. If not specified,
  only resources starting with the <tt>conf:webBase</tt> value will be hosted.</p>
  <p><em>Note:</em> In the configuration file and any imported vocabularies,
  references to resources in the dataset must be made using URIs in the rewritten
  form, that is, using URIs that start with the <tt>conf:webBase</tt>. Using
  namespace declarations or vocabulary declarations for URIs that start with
  the <tt>conf:datasetBase</tt> is likely a mistake.</p></dd>

<dt><tt>conf:browsableNamespace &lt;<em>namespace_iri</em>&gt;</tt></dt>
<dd><p>Makes all URIs that start with that namespace URI browsable in Pubby.
  Unlike <tt>conf:datasetBase</tt>, Pubby will not attempt to make these
  URIs dereferenceable; it merely creates
  web pages that show descriptions of the resources and allow browsing.</p>
  <pre>conf:browsableNamespace &lt;http://www.w3.org/&gt;;</pre>
  <p>The example means that clicking on any resource whose URI starts with
  <tt>http://www.w3.org/</tt> takes the user to another Pubby page, rather
  than taking them away from Pubby and to the <tt>w3.org</tt> website.
  This is useful if you have loaded vocabularies from <tt>w3.org</tt>
  into your dataset.</p>
  <p>The value <tt>&lt;http://&gt;</tt> can be used to make Pubby handle
  <em>all</em> (HTTP) URIs.</p></dd>

<dt><tt>a conf:AnnotationProvider</tt></dt>
<dd><p>A dataset typed as an annotation provider will be queried for
  <em>every</em> resource that is displayed, regardless of
  <tt>conf:datasetBase</tt> and <tt>conf:browsableNamespace</tt>
  settings. This is only recommended for small datasets loaded
  into memory to provide labels and other annotations for vocabulary
  terms, etc.</p>
  <p>This example loads vocabularies from multiple locations on the
  Web and makes them browsable:</p>
  <pre>conf:dataset [
    a conf:AnnotationProvider;
    conf:loadRDF &lt;http://dublincore.org/2012/06/14/dcterms.ttl&gt;,
                 &lt;http://vocab.deri.ie/void.ttl&gt;;
    conf:browsableNamespace dcterms:, void:;
];
</pre></dd>

<dt><tt>conf:datasetURIPattern "<em>regular expression</em>";</tt></dt>
<dd><p>If present, only dateset URIs matching this
  <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/regex/Pattern.html">Java-style regular expression</a>
  will be made available by Pubby. The regular expression must match
  <em>somwehere within the URI as it appears in the data source</em>.</p>
  <pre>conf:datasetURIPattern "/(users|documents)/";</pre>
  <p>This example configuration will publish the dataset URI <tt>http://example.org/users/alice</tt>, but not
  <tt>http://example.org/invoices/5395842</tt> because the URI part <tt>invoices/5395842</tt>
  does not match the regular expression. It would also publish <tt>http://othersite.com/users/12345</tt> if that URI happens to appear in the data source.</p></dd>

<dt><tt>conf:resourceDescriptionQuery <em>"SPARQL query"</em></tt></dt>
<dd><p>Allows specification of one or more SPARQL queries that are run against the
  target endpoint to build the description of a single resource. The resource to be
  described is given in the placeholder variable <tt>?__this__</tt>. Only query forms
  that return an RDF graph are allowed (that is, <tt>DESCRIBE</tt> and
  <tt>CONSTRUCT</tt>). If unspecified and SPARQL 1.1 is not supported
  (see <tt>conf:supportsSPARQL11</tt>, then the following
  <tt>DESCRIBE</tt> query is used:</p>
  <pre>DESCRIBE ?__this__</pre>
  <p>On SPARQL endpoints that do not (propertly) support the default
  <tt>DESCRIBE</tt> query shown above, the following <tt>CONSTRUCT</tt> setup can be
  used instead:</p>
  <pre>conf:resourceDescriptionQuery
    "CONSTRUCT { ?__this__ ?p ?o } WHERE { ?__this__ ?p ?o }",
    "CONSTRUCT { ?s ?p ?__this__ } WHERE { ?s ?p ?__this__ }";</pre></dd>
  <p>On SPARQL endpoints that support SPARQL 1.1, the following queries are used by
  default. The placeholders <tt>?__high_outdegree_properties__</tt> and
  <tt>?__high_indegree_properties__</tt> are replaced with a comma-separated list
  in parentheses of the high-outdegree properties and high-indegree properties,
  respectively:</p>
  <pre>conf:resourceDescriptionQuery """
        CONSTRUCT {
            ?__this__ ?p ?o.
        }
        WHERE {
            ?__this__ ?p ?o.
            FILTER (?p NOT IN ?__high_outdegree_properties__)
        }
    """, """
        CONSTRUCT {
            ?s ?p ?__this__.
        }
        WHERE {
            ?s ?p ?__this__.
            FILTER (?p NOT IN ?__high_indegree_properties__)
        }
    """;</pre>
  <p>The following advanced example retrieves labels for all linked resources.
  As Pubby always automatically uses labels where they are available, this will
  cause values to be shown with nice labels rather than just as URIs. This comes
  at a performance cost.<p>
  <pre>conf:resourceDescriptionQuery """
        PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
        CONSTRUCT {
            ?__this__ ?p ?o.
            ?o rdfs:label ?label.
        }
        WHERE {
            ?__this__ ?p ?o.
            OPTIONAL { ?o rdfs:label ?label }
            FILTER (?p NOT IN ?__high_outdegree_properties__)
        }
    """, """
        PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
        CONSTRUCT {
            ?s ?p ?__this__.
            ?s rdfs:label ?label.
        }
        WHERE {
            ?s ?p ?__this__.
            OPTIONAL { ?s rdfs:label ?label }
            FILTER (?p NOT IN ?__high_indegree_properties__)
        }
    """;</pre></dd>

<dt><tt>conf:propertyListQuery <em>"SPARQL query"</em></tt></dt>
<dt><tt>conf:inversePropertyListQuery <em>"SPARQL query"</em></tt></dt>
<dd><p>Allows customization of the SPARQL queries that are used to retrieve lists
  of values for high-outdegree and high-indegree properties, respectively.
  See <tt>conf:HighOutdegreeProperty</tt> and <tt>conf:HighIndegreeProperty</tt>
  below for more information on these concepts. The resource to be described
  is given in the placeholder variable <tt>?__this__</tt>. The property whose
  values are to be retrieved is given in <tt>?__property__</tt>. Blank node
  values must be excluded.
  If unspecified, the following <tt>CONSTRUCT</tt>
  queries are used for forward and backward properties, respectively:</p>
  <pre>conf:propertyListQuery
    "CONSTRUCT {?__this__ ?__property__ ?that} WHERE {?__this__ ?__property__ ?that. FILTER (!isBlank(?that))}";

conf:inversePropertyListQuery
    "CONSTRUCT {?that ?__property__ ?__this__} WHERE {?that ?__property__ ?__this__. FILTER (!isBlank(?that))}";</pre></dd>

<dt><tt>conf:anonymousPropertyDescriptionQuery <em>"SPARQL query"</em></tt></dt>
<dt><tt>conf:anonymousInversePropertyDescriptionQuery <em>"SPARQL query"</em></tt></dt>
<dd><p>Allows customization of the SPARQL queries that are used to retrieve details
  about blank nodes that appear as values of a property <tt>?__property__</tt>
  on a resource <tt>?__this__</tt>. If unspecified, the following <tt>DESCRIBE</tt>
  queries are used for forward and backward properties, respectively:</p>
  <pre>conf:anonymousPropertyDescriptionQuery
    "DESCRIBE ?that WHERE {?__this__ ?__property__ ?that. FILTER (isBlank(?that))}";

conf:anonymousInversePropertyDescriptionQuery
    "DESCRIBE ?that WHERE {?that ?__property__ ?__this__. FILTER (isBlank(?that))}";</pre>
  <p>The following <tt>CONSTRCUT</tt> queries may be used on SPARQL endpoints
  that don't properly support <tt>DESCRIBE</tt> to achieve the same result:</p>
  <pre>conf:anonymousPropertyDescriptionQuery """
        CONSTRUCT {
            ?__this__ ?property ?that.
            ?that ?p ?o.
            ?s ?p ?that.
        }
        WHERE {
            ?__this__ ?__property__ ?that.
            FILTER (isBlank(?that))
            {
                ?that ?p ?o.
            } UNION {
                ?s ?p ?that.
            }
        }
    """;
conf:anonymousInversePropertyDescriptionQuery """
        CONSTRUCT {
            ?that ?property ?__this__.
            ?that ?p ?o.
            ?s ?p ?that.
        }
        WHERE {
            ?that ?__property__ ?__this__.
            FILTER (isBlank(?that))
            {
                ?that ?p ?o.
            } UNION {
                ?s ?p ?that.
            }
        }
    """;</pre>
  <p>The following advanced example retrieves labels for all linked resources.
  As Pubby always automatically uses labels where they are available, this will
  cause values to be shown with nice labels rather than just as URIs. This comes
  at a performance cost.<p>
  <pre>conf:anonymousPropertyDescriptionQuery """
        PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
        CONSTRUCT {
            ?__this__ ?property ?that.
            ?that ?p ?o.
            ?o rdfs:label ?label.
            ?s ?p ?that.
            ?s rdfs:label ?label.
        }
        WHERE {
            ?__this__ ?__property__ ?that.
            FILTER (isBlank(?that))
            {
                ?that ?p ?o.
                OPTIONAL { ?o rdfs:label ?label. }
            } UNION {
                ?s ?p ?that.
                OPTIONAL { ?s rdfs:label ?label. }
            }
        }
    """;
conf:anonymousInversePropertyDescriptionQuery """
        PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
        CONSTRUCT {
            ?that ?property ?__this__.
            ?that ?p ?o.
            ?o rdfs:label ?label.
            ?s ?p ?that.
            ?s rdfs:label ?label.
        }
        WHERE {
            ?that ?__property__ ?__this__.
            FILTER (isBlank(?that))
            {
                ?that ?p ?o.
                OPTIONAL { ?o rdfs:label ?label. }
            } UNION {
                ?s ?p ?that.
                OPTIONAL { ?s rdfs:label ?label. }
            }
        }
    """;</pre></dd>


<dt><tt>conf:addSameAsStatements <em>"true"/"false"</em>;</tt></dt>
<dd><p>This may be used if the dataset defines a <tt>conf:datasetBase</tt>
  that's different from the <tt>conf:webBase</tt>, leading to rewriting
  of URIs. If set to <tt>"true"</tt>, an <tt>owl:sameAs</tt> statement
  of the form <tt>&lt;web_uri&gt; owl:sameAs &lt;dataset_uri&gt;</tt>
  will be added for every resource with a rewritten URI.</p></dd>

<dt><tt>conf:rdfDocumentMetadata [ <em>statement1; statement2; ...;</em> ];</tt></dt>
<dd>
<p>All statements inside a <tt>conf:rdfDocumentMetadata</tt> block will be added as document metadata
  to the RDF documents published for this dataset. This feature can be used for instance to add licensing
  information to your published documents.</p>

<pre>conf:rdfDocumentMetadata [
    dc:publisher &lt;http://richard.cyganiak.de/foaf.rdf#cygri&gt;;
];</pre>
</dd>

<dt><tt>conf:metadataTemplate &lt;<em>metadata.ttl</em>&gt;</tt></dt>
<dd>
<p>Specifies a metadata template that is used by the
   <a href="http://sourceforge.net/apps/mediawiki/trdf/index.php?title=Pubby_Metadata_Extension">metadata extension</a>.
  A relative URL may be used and is interpreted relative to the location of
  the configuration file.</p>
</dd>

<dt><tt>conf:supportsIRIs <em>true/false</em>;</tt></dt>
<dd><p>Must be set to <code>false</code> on data sources that use URIs
  instead of IRIs in the RDF data. For example, the English-language
  <a href="http://dbpedia.org/">DBpedia</a> dataset
  uses the URI <code>http://dbpedia.org/resource/Sp%C3%A4tzle</code>
  instead of the (valid, and preferrable) IRI
  <code>http://dbpedia.org/resource/Spätzle</code>.
  Default: <code>true</code>.</p></dd>

<dt><tt>conf:contentType "<em>text/turtle</em>";</tt></dt>
<dd><p>Changes the media type that will be requested from the remote SPARQL
  server when executing <code>DESCRIBE</code> and <code>CONSTRUCT</code>
  queries. This can be used to force communication to use Turtle instead
  of RDF/XML to solve issues with non-serializable graphs, provided the
  endpoint supports Turtle.</p></dd>

<dt><tt>conf:queryParamSelect "<em>param=value</em>";</tt></dt>
<dd><p>Specifies an additional request parameter that will be sent to
  the remote SPARQL endpoint in the URL for SPARQL protocol requests
  for <code>SELECT</code> queries.</p></dd>

<dt><tt>conf:queryParamGraph "<em>param=value</em>";</tt></dt>
<dd><p>Specifies an additional request parameter that will be sent to
  the remote SPARQL endpoint in the URL for SPARQL protocol requests
  for <code>CONSTRUCT</code> and <code>DESCRIBE</code> queries.</p></dd>
</dl>


<h3 id="config-other">Other configuration</h3>

<dl>
<dt><tt><em>my:property</em> conf:weight <em>0</em></tt></dt>
<dd><p>Changes the order of RDF properties in the HTML property tables by assigning
  a weight to a property. By default, all properties are considered to have weight 0.
  Properties with lesser weight rise higher in the list, those with greater weight sink
  down. Weights must be integer numbers and should be between -100 and +100.
  Property weights may be managed in an external RDF file and loaded via
  <tt>conf:loadVocabulary</tt>.</p>
  <p>The weight for “incoming” and “outcoming” arcs can be set separately. The incoming
  weight is specified using the <tt>owl:inverseOf</tt> idiom:</p>
  <pre>rdf:type conf:weight -100.
rdf:type owl:inverseOf [ conf:weight 10 ].</pre>
  <p>The example causes a resource's class (outgoing <tt>rdf:type</tt> arc)
  to be displayed as the first property,
  and if the resource is itself a class with instances
  (incoming <tt>rdf:type</tt> arcs),
  then the list of instances will be near the bottom.</p>
  <p>If only an outgoing weight is specified, it will also be used for incoming
  arcs.</p></dd>
<dt><tt><em>my:property</em> owl:inverseOf [ rdfs:label "<em>label</em>" ]</tt></dt>
<dd><p>When a property occurs as an incoming arc on a resource, this label will
  be shown instead of the default “is XXX of”. Example:</p>
  <pre>ex:parent rdfs:label "parent"@en; owl:inverseOf [ rdfs:label "child"@en ].</pre></dd>
<dt><tt><em>my:property</em> conf:pluralLabel "<em>label</em>"</tt></dt>
<dd><p>A label for a property to be used when the label has multiple values.
  This should be the plural form of the property's <tt>rdfs:label</tt>.
  An inverse plural label can also be specified using the <tt>owl:inverseOf</tt>
  idiom. Example:</p>
  <pre>ex:parent
    conf:pluralLabel "parents"@en;
    owl:inverseOf [ conf:pluralLabel "children"@en ].</pre></dd>
<dt><tt><em>my:property</em> a conf:HighOutdegreeProperty</tt></dt>
<dt><tt><em>my:property</em> a conf:HighIndegreeProperty</tt></dt>
<dd><p>High-degree properties are properties that tend to have a large number of values
  on any given resource. A high in-degree property is one that tends to contribute
  lots of incoming arcs to some resources. A high-outdegree property is one that tends
  to contribute lots of outgoing arcs. If this class is given to a property, then
  Pubby puts all of its values onto a separate page. This reduces the size of the
  resource's main page. Note that this feature has no effect on SPARQL endpoints that
  don't support SPARQL 1.1 (see <tt>conf:supportsSPARQL11</tt>).</p></dd>
</dl>


<h2><a name="support" id="support"></a>Support and feedback</h2>

<p>Please <a href="http://github.com/cygri/pubby/issues">raise an issue</a>
or email <a href="mailto:richard@cyganiak.de">richard@cyganiak.de</a>.</p>

<h2 id="development">Source code and development</h2>
<p>Pubby is open source (<a href="http://www.apache.org/licenses/LICENSE-2.0.html">Apache License, Version 2.0</a>). Pubby is hosted on <a href="http://github.com/">GitHub</a>.
  The official version of the source code is available from <a href="http://github.com/cygri/pubby">the <tt>cygri/pubby</tt> repository</a>.</p>

<p>You need a <a href="http://git-scm.com/">git</a> client to get the source, and <a href="http://maven.apache.org/">Apache Maven</a> to build it:</p>

<pre>
# Get source from GitHub
git clone https://github.com/cygri/pubby.git
cd pubby

# If you work with Eclipse, create project files
mvn eclipse:eclipse -DdownloadSources=true -DdownloadJavadocs=true

# Compile and run with Jetty Maven plugin
mvn jetty:run

# Build a distribution in target/pubby.zip
mvn clean package
</pre>


<h2 id="acknowledgements">Contributors</h2>

<ul class="acknowledgements">
  <li><a href="http://richard.cyganiak.de/">Richard Cyganiak</a> (Maintainer)</li>
  <li><a href="http://www.wikier.org/">Sergio Fernández</a></li>
  <li><a href="http://www.linkedin.com/pub/boris-villazon-terrazas/5/601/1a">Boris Villazón-Terrazas</a></li>
  <li><a href="http://olafhartig.de/">Olaf Hartig</a></li>
  <li><a href="http://github.com/heinlja">Jaanus Heinlaid</a></li>
  <li><a href="http://www.linkedin.com/pub/jeremy-carroll/63/4a0/b1a">Jeremy Carroll</a></li>
</ul>

</div>

</body>
</html>
